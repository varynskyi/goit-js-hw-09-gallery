{"version":3,"sources":["js/app.js","js/gallery.js","index.js"],"names":["preview","original","description","galleryEl","document","querySelector","cardsMarkup","createImgCardsMarkup","galleryItems","map","index","join","innerHTML","lightboxEl","lightboxImgEl","closeButton","lightboxOverlay","onCardClick","evt","preventDefault","target","classList","contains","openModal","dataset","source","onlightboxElClick","ifcloseButton","iflightboxOverlay","closeModal","onKeyboardEvent","ifEsc","code","ifArrowRight","ifArrowLeft","showNextImg","src","add","setAttribute","remove","toRight","Number","length","addEventListener","window"],"mappings":";;;AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACgHd,aApGD,IAAA,EAAA,EAAA,QAAA,aAoGC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAnGD,MAAMC,EAAYC,SAASC,cAAc,eACnCC,EAAcC,EAAqBC,EAAD,SAExC,SAASD,EAAqBC,GACrBA,OAAAA,EACJC,IAAI,EAAGT,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,GAAgB,GAAIQ,yFAIpCT,uEAIDD,0BACQC,2BACCS,kBACTR,kCAKTS,KAAK,IAGVR,EAAUS,UAAYN,EAGtB,MAAMO,EAAaT,SAASC,cAAc,gBACpCS,EAAgBV,SAASC,cAAc,oBACvCU,EAAcX,SAASC,cAAc,kCACrCW,EAAkBZ,SAASC,cAAc,sBAM/C,SAASY,EAAYC,GACnBA,EAAIC,iBAEiBD,EAAIE,OAAOC,UAAUC,SAAS,mBAInDC,EAAUL,EAAIE,OAAOI,QAAQC,OAAQP,EAAIE,OAAOI,QAAQd,OAG1D,SAASgB,EAAkBR,GACnBS,MAAAA,EAAgBT,EAAIE,SAAWL,EAC/Ba,EAAoBV,EAAIE,SAAWJ,GAEpCW,GAAkBC,IAIvBC,IAGF,SAASC,EAAgBZ,GACjBa,MAAAA,EAAqB,WAAbb,EAAIc,KACZC,EAA4B,eAAbf,EAAIc,KACnBE,EAA2B,cAAbhB,EAAIc,KAEpBD,GACFF,EAAWX,IAGTe,GAAgBC,IAClBC,EAAYF,GAIhB,SAASV,EAAUa,EAAK1B,GACtBG,EAAWQ,UAAUgB,IAAI,WACzBvB,EAAcwB,aAAa,aAAc5B,GACzCI,EAAcsB,IAAMA,EAGtB,SAASP,IACPhB,EAAWQ,UAAUkB,OAAO,WAC5BzB,EAAcsB,IAAM,GAGtB,SAASD,EAAYK,GACf9B,IAAAA,GAEJA,EAAQ8B,EACJC,OAAO3B,EAAcU,QAAQd,OAAS,EACtC+B,OAAO3B,EAAcU,QAAQd,OAAS,GAE9B,IACVA,EAAQF,EAAakC,QAAAA,OAAShC,GAG5BA,IAAUF,EAAakC,QAAAA,SACzBhC,EAAQ,GAGVI,EAAcsB,IAAM5B,EAAaE,QAAAA,GAAOT,SACxCa,EAAcU,QAAQd,MAAQA,EAlEhCP,EAAUwC,iBAAiB,QAAS1B,GACpCJ,EAAW8B,iBAAiB,QAASjB,GACrCkB,OAAOD,iBAAiB,QAASb;;AC9CjC,aADA,QAAA,oBACA,QAAA","file":"src.4eb925fb.js","sourceRoot":"../src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];"," // Создание и рендер разметки по массиву данных и предоставленному шаблону.\r\n  // Реализация делегирования на галерее ul.js-gallery и получение url большого изображения.\r\n  // Открытие модального окна по клику на элементе галереи.\r\n  // Подмена значения атрибута src элемента img.lightbox__image.\r\n  // Закрытие модального окна по клику на кнопку button[data-action=\"close-lightbox\"].\r\n  // Очистка значения атрибута src элемента img.lightbox__image. Это необходимо для того,\r\n  // чтобы при следующем открытии модального окна, пока грузится изображение,\r\n  //мы не видели предыдущее.\r\n  //  Закрытие модального окна по клику на div.lightbox__overlay.\r\n  // Закрытие модального окна по нажатию клавиши ESC.\r\n  // Пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\".\r\n\r\nimport galleryItems from './app.js';\r\nconst galleryEl = document.querySelector('.js-gallery');\r\nconst cardsMarkup = createImgCardsMarkup(galleryItems);\r\n\r\nfunction createImgCardsMarkup(galleryItems) {\r\n  return galleryItems\r\n    .map(({ preview, original, description } = {}, index) => {\r\n      return `<li class=\"gallery__item\">\r\n      <a\r\n        class=\"gallery__link\"\r\n        href=${original}\r\n      >\r\n      <img\r\n        class=\"gallery__image\"\r\n        src=${preview}\r\n        data-source=${original}\r\n        data-index = ${index}\r\n        alt=${description}\r\n      />\r\n    </a>\r\n  </li>`;\r\n    })\r\n    .join('');\r\n}\r\n\r\ngalleryEl.innerHTML = cardsMarkup;\r\n\r\n\r\nconst lightboxEl = document.querySelector('.js-lightbox');\r\nconst lightboxImgEl = document.querySelector('.lightbox__image');\r\nconst closeButton = document.querySelector('[data-action=\"close-lightbox\"]');\r\nconst lightboxOverlay = document.querySelector('.lightbox__overlay');\r\n\r\ngalleryEl.addEventListener('click', onCardClick);\r\nlightboxEl.addEventListener('click', onlightboxElClick);\r\nwindow.addEventListener('keyup', onKeyboardEvent);\r\n\r\nfunction onCardClick(evt) {\r\n  evt.preventDefault();\r\n\r\n  const ifGalleryImg = evt.target.classList.contains('gallery__image');\r\n  if (!ifGalleryImg) {\r\n    return;\r\n  }\r\n  openModal(evt.target.dataset.source, evt.target.dataset.index);\r\n}\r\n\r\nfunction onlightboxElClick(evt) {\r\n  const ifcloseButton = evt.target === closeButton;\r\n  const iflightboxOverlay = evt.target === lightboxOverlay;\r\n\r\n  if (!ifcloseButton && !iflightboxOverlay) {\r\n    return;\r\n  }\r\n\r\n  closeModal();\r\n}\r\n\r\nfunction onKeyboardEvent(evt) {\r\n  const ifEsc = evt.code === 'Escape';\r\n  const ifArrowRight = evt.code === 'ArrowRight';\r\n  const ifArrowLeft = evt.code === 'ArrowLeft';\r\n\r\n  if (ifEsc) {\r\n    closeModal(evt);\r\n  }\r\n\r\n  if (ifArrowRight || ifArrowLeft) {\r\n    showNextImg(ifArrowRight);\r\n  }\r\n}\r\n\r\nfunction openModal(src, index) {\r\n  lightboxEl.classList.add('is-open');\r\n  lightboxImgEl.setAttribute('data-index', index);\r\n  lightboxImgEl.src = src;\r\n}\r\n\r\nfunction closeModal() {\r\n  lightboxEl.classList.remove('is-open');\r\n  lightboxImgEl.src = '';\r\n}\r\n\r\nfunction showNextImg(toRight) {\r\n  let index;\r\n\r\n  index = toRight\r\n    ? Number(lightboxImgEl.dataset.index) + 1\r\n    : Number(lightboxImgEl.dataset.index) - 1;\r\n\r\n  if (index < 0) {\r\n    index = galleryItems.length + index;\r\n  }\r\n\r\n  if (index === galleryItems.length) {\r\n    index = 0;\r\n  }\r\n\r\n  lightboxImgEl.src = galleryItems[index].original;\r\n  lightboxImgEl.dataset.index = index;\r\n}","import './sass/main.scss';\nimport './js/gallery';\n"]}